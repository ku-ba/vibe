{% extends 'base.html' %}

{% block title %}My Todos{% endblock %}

{% block content %}
<h2>My Todos</h2>
<a href="{% url 'todo_create' %}" class="btn">Add New Todo</a>

{% for todo in todos %}
<div class="todo-item">
    <div>
        <h3 class="{% if todo.is_resolved %}resolved{% endif %}">
            <a href="{% url 'todo_toggle' todo.pk %}" style="text-decoration: none; color: inherit;">
                {% if todo.is_resolved %}☑{% else %}☐{% endif %}
            </a>
            {{ todo.title }}
        </h3>
        {% if todo.description %}<p>{{ todo.description }}</p>{% endif %}
        {% if todo.due_date %}<small>Due: {{ todo.due_date|date:"M d, Y" }}</small>{% endif %}
    </div>
    <div class="actions">
        <a href="{% url 'todo_update' todo.pk %}">Edit</a>
        <a href="{% url 'todo_delete' todo.pk %}" style="color: red;">Delete</a>
    </div>
</div>
{% empty %}
<p>No todos yet. Create one!</p>
{% endfor %}
{% endblock %}